# 测试数据说明文档

## 📦 已生成的测试数据文件

已成功生成 3 个不同规模的测试数据文件：

| 文件名 | 记录数 | 文件大小 | 用途说明 |
|--------|--------|----------|----------|
| `test-data-50.csv` | 50条 | 8.3 KB | 快速测试和功能验证 |
| `test-data-100.csv` | 100条 | 16 KB | 中等规模测试 |
| `test-data-500.csv` | 500条 | 81 KB | 大规模性能测试 |

## 📋 数据字段说明

测试数据包含以下字段（与系统完全匹配）：

### 必填字段
- **钢卷号**: 唯一标识，格式：C202602XXXX
- **钢种**: SPCC, SPCD, SPCE, SPHC, DC01, DC03 等11种钢种
- **厚度**: 0.3-3.0mm
- **宽度**: 800-1500mm
- **重量**: 5-30吨
- **卷取时间**: 最近60天内的随机时间

### 可选字段
- **合同号**: 客户代码-年份-序号格式
- **客户信息**: 包含10个真实客户（一汽大众、上汽通用、比亚迪、美的、格力等）
- **硬度等级**: T1-T5, HR, HV
- **表面等级**: FA, FB, FC, FD
- **粗糙度要求**: Ra0.4-Ra1.2
- **延伸率要求**: 20-45%
- **产品大类**: 汽车板、家电板、建筑板、普通板、高强板
- **合同属性**: 常规(65%)、急单(20%)、试制(10%)、返修(5%)
- **合同性质**: 国内、国外、内部
- **出口标志**: 是/否
- **周交期**: 是/否
- **集批代码**: BTH2024001-005
- **库龄**: 0-60天
- **库位**: 1A01-3A02
- **交期**: 未来7-90天
- **备注**: 部分记录含备注

## 🚀 使用方法

### 1. 在应用中导入数据

1. 确保应用已启动（开发模式）
2. 在应用中导航到 **数据管理** 页面
3. 点击 **导入材料** 按钮
4. 选择其中一个 CSV 文件（建议先用 test-data-50.csv）
5. 系统会自动识别中文字段名并导入

### 2. 字段映射

如果系统提示需要配置字段映射：

1. 进入 **字段映射** 页面
2. 创建新的映射模板
3. 将CSV中的中文列名映射到系统字段：
   - 钢卷号 → coil_id
   - 钢种 → steel_grade
   - 厚度 → thickness
   - 宽度 → width
   - 重量 → weight
   - 卷取时间 → coiling_time
   - 其他字段类似映射

### 3. 验证数据

导入成功后：
- 检查材料列表是否显示正确
- 查看材料详情
- 测试筛选和排序功能
- 尝试刷新适温状态
- 创建排程方案进行测试

## 📊 数据特点

### 真实性
- 使用真实的钢种代号（SPCC, DC01等）
- 符合热轧平整机组的工艺参数范围
- 客户数据模拟真实企业

### 多样性
- 包含不同厚度、宽度、重量的材料
- 多种产品类型和合同属性
- 不同的交期和紧急程度

### 测试覆盖
- 急单材料（约20%）用于测试优先级排序
- 试制材料（约10%）用于测试特殊处理
- 返修材料（约5%）用于测试异常流程
- 不同卷取时间分布，便于测试适温管理

## 🔄 重新生成数据

如需重新生成测试数据：

```bash
cd /Users/butianzheng/Documents/trae_projects/HRFSandTable/spm-simulator
python3 scripts/generate-test-data.py
```

脚本会生成新的随机数据，覆盖原有文件。

## 📝 注意事项

1. **编码格式**: CSV文件使用 UTF-8 with BOM 编码，确保中文正常显示
2. **日期格式**:
   - 卷取时间: `YYYY-MM-DD HH:MM:SS`
   - 交期: `YYYY-MM-DD`
3. **布尔值**: 使用中文"是"/"否"
4. **空值**: 可选字段允许为空
5. **唯一性**: 钢卷号保证唯一

## 🧪 测试场景建议

### 基础功能测试
1. 导入 test-data-50.csv
2. 验证数据完整性
3. 测试筛选、排序、搜索功能

### 排程算法测试
1. 导入 test-data-100.csv
2. 创建排程方案
3. 测试自动排程算法
4. 验证约束条件
5. 测试拖拽调序功能

### 性能压力测试
1. 导入 test-data-500.csv
2. 测试大数据量下的响应速度
3. 验证分页和虚拟滚动
4. 测试风险分析性能
5. 测试方案对比功能

### 适温管理测试
1. 导入数据后，刷新适温状态
2. 查看不同卷取时间的材料适温情况
3. 测试适温规则配置
4. 验证适温状态对排程的影响

## 🎯 预期效果

使用这些测试数据，您可以：

- ✅ 验证材料导入功能
- ✅ 测试排程算法的正确性
- ✅ 评估系统性能
- ✅ 演示产品功能
- ✅ 进行用户培训
- ✅ 调试和优化代码

---

**生成时间**: 2026-02-16
**生成工具**: scripts/generate-test-data.py
**数据版本**: v1.0
